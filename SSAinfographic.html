<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographic: Secure Software Architecture</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Brilliant Blues -->
    <!-- Narrative Plan: The infographic tells a story, starting with the "why" (the high stakes of cybersecurity), moving to the foundational "what" (core principles like the CIA Triad and threat types via STRIDE), then the practical "how" (common vulnerabilities from OWASP Top 10 and key defensive practices), and ending with the process context (the DevSecOps lifecycle). This logical, top-down progression is designed to build a student's understanding from the ground up in a visually engaging, scrollable format that is easy to digest. -->
    <!-- Visualization Choices: 
        - Impact Stat: Goal: Inform. Viz: Single Big Number. Justification: Grabs attention and establishes urgency. Method: HTML/CSS.
        - CIA Triad: Goal: Inform. Viz: Three Donut Charts. Justification: Symbolically represents the three core, inseparable pillars of information security. Method: Chart.js/Canvas.
        - STRIDE Model: Goal: Organize. Viz: Structured HTML/CSS Diagram Cards. Justification: Clearly presents the components of this mnemonic framework in a clean, digestible format without needing complex graphics. Method: HTML/CSS.
        - OWASP Top 10 2021: Goal: Compare/Rank. Viz: Horizontal Bar Chart. Justification: Effectively ranks the most critical web application risks, providing a clear visual hierarchy of what to prioritize learning. Method: Chart.js/Canvas.
        - Secure Coding Practices: Goal: Inform/Organize. Viz: Grid of cards with Unicode icons. Justification: A clean, scannable way to present key takeaways and best practices. Method: HTML/CSS.
        - DevSecOps Lifecycle: Goal: Organize/Change. Viz: Horizontal Flowchart Diagram. Justification: Illustrates the continuous and integrated nature of security within the modern software development process. Method: HTML/CSS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F2F2F2;
            color: #00364D;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.07), 0 4px 6px -2px rgb(0 0 0 / 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 10px 10px -5px rgb(0 0 0 / 0.04);
        }
        .flowchart-step {
            position: relative;
            z-index: 1;
        }
        .flowchart-step:not(:last-child)::after {
            content: '‚Üí';
            position: absolute;
            right: -24px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem;
            color: #0087C1;
            z-index: -1;
        }
        @media (max-width: 768px) {
            .flowchart-step:not(:last-child)::after {
                content: '‚Üì';
                right: 50%;
                top: auto;
                bottom: -30px;
                transform: translateX(50%);
            }
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <header class="text-center mb-16">
            <h1 class="text-4xl md:text-6xl font-extrabold text-[#00364D] mb-4">The Blueprint for Secure Software</h1>
            <p class="text-lg md:text-xl text-[#005A82] max-w-3xl mx-auto">An infographic for Year 12 Software Engineering students on the essential principles of Secure Software Architecture.</p>
        </header>

        <section class="mb-20">
            <div class="card p-8 md:p-12 text-center bg-[#00364D] text-white">
                <p class="text-2xl md:text-3xl font-semibold text-[#F2F2F2] mb-2">The average cost of a data breach in Australia is now</p>
                <p class="text-6xl md:text-8xl font-extrabold text-[#00A1E4] tracking-tight">AU$4.03 Million</p>
                <p class="text-md text-gray-300 mt-4">(Source: IBM Cost of a Data Breach Report 2023). Secure architecture isn't optional‚Äîit's essential.</p>
            </div>
        </section>

        <section class="text-center mb-20">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">The Three Pillars of Security: The CIA Triad</h2>
            <p class="text-md text-[#005A82] max-w-2xl mx-auto mb-10">Every secure system is built upon three foundational principles. Understanding this balance is the first step in protecting data.</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="card p-6 text-center">
                    <div class="chart-container h-64 w-full max-w-xs mx-auto">
                        <canvas id="confidentialityChart"></canvas>
                    </div>
                    <h3 class="text-xl font-bold mt-4">Confidentiality</h3>
                    <p class="text-gray-600 mt-2">Ensuring data is private and only accessible to authorized users. This is achieved through encryption and access control.</p>
                </div>
                <div class="card p-6 text-center">
                    <div class="chart-container h-64 w-full max-w-xs mx-auto">
                        <canvas id="integrityChart"></canvas>
                    </div>
                    <h3 class="text-xl font-bold mt-4">Integrity</h3>
                    <p class="text-gray-600 mt-2">Maintaining the accuracy and trustworthiness of data, preventing unauthorized alterations. Hashing is a key tool here.</p>
                </div>
                <div class="card p-6 text-center">
                    <div class="chart-container h-64 w-full max-w-xs mx-auto">
                        <canvas id="availabilityChart"></canvas>
                    </div>
                    <h3 class="text-xl font-bold mt-4">Availability</h3>
                    <p class="text-gray-600 mt-2">Guaranteeing that systems and data are accessible to authorized users when needed, protecting against service disruptions.</p>
                </div>
            </div>
        </section>

        <section class="text-center mb-20">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Know Your Enemy: The STRIDE Threat Model</h2>
            <p class="text-md text-[#005A82] max-w-2xl mx-auto mb-10">To build defenses, you must first understand the types of attacks. STRIDE is a mnemonic for categorizing threats.</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="card p-6"><h3 class="text-xl font-bold text-[#00A1E4]">Spoofing</h3><p class="mt-1">Impersonating another user or system.</p></div>
                <div class="card p-6"><h3 class="text-xl font-bold text-[#00A1E4]">Tampering</h3><p class="mt-1">Maliciously modifying data.</p></div>
                <div class="card p-6"><h3 class="text-xl font-bold text-[#00A1E4]">Repudiation</h3><p class="mt-1">Denying having performed an action.</p></div>
                <div class="card p-6"><h3 class="text-xl font-bold text-[#00A1E4]">Information Disclosure</h3><p class="mt-1">Exposing information to unauthorized individuals.</p></div>
                <div class="card p-6"><h3 class="text-xl font-bold text-[#00A1E4]">Denial of Service</h3><p class="mt-1">Making a system unavailable to legitimate users.</p></div>
                <div class="card p-6"><h3 class="text-xl font-bold text-[#00A1E4]">Elevation of Privilege</h3><p class="mt-1">Gaining capabilities without proper authorization.</p></div>
            </div>
        </section>
        
        <section class="mb-20">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div class="text-center lg:text-left">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4">The Digital Battlefield: OWASP Top 10</h2>
                    <p class="text-md text-[#005A82] mb-4">The Open Web Application Security Project (OWASP) identifies the most critical security risks to web applications. The chart shows the 2021 rankings, highlighting the most common ways that software is attacked.</p>
                    <p class="text-md text-gray-600"><strong>Broken Access Control</strong> remains the most serious web application security risk. This emphasizes the importance of rigorously enforcing permissions and privileges throughout your code, ensuring users can only access data and perform actions they are explicitly authorized for.</p>
                </div>
                <div class="card p-6">
                    <div class="chart-container w-full h-96 md:h-[500px] max-w-2xl mx-auto">
                        <canvas id="owaspChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section class="text-center mb-20">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Building Your Defenses</h2>
            <p class="text-md text-[#005A82] max-w-2xl mx-auto mb-10">Secure architecture is built upon a foundation of consistent, defensive coding practices.</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="card p-6 text-center"><div class="text-4xl mb-3">üõ°Ô∏è</div><h3 class="font-bold">Input Validation</h3><p class="text-sm text-gray-600">Never trust user input. Sanitize everything.</p></div>
                <div class="card p-6 text-center"><div class="text-4xl mb-3">üîë</div><h3 class="font-bold">Least Privilege</h3><p class="text-sm text-gray-600">Grant only the minimum necessary permissions.</p></div>
                <div class="card p-6 text-center"><div class="text-4xl mb-3">üè∞</div><h3 class="font-bold">Defense in Depth</h3><p class="text-sm text-gray-600">Use multiple layers of security controls.</p></div>
                <div class="card p-6 text-center"><div class="text-4xl mb-3">üîí</div><h3 class="font-bold">Fail Securely</h3><p class="text-sm text-gray-600">Ensure errors don't leak sensitive information.</p></div>
            </div>
        </section>

        <section class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Security is a Cycle, Not a Checkbox</h2>
            <p class="text-md text-[#005A82] max-w-2xl mx-auto mb-12">Modern software development integrates security into every stage, a practice known as DevSecOps. It's a continuous process of planning, coding, testing, and monitoring with security in mind.</p>
            <div class="flex flex-col md:flex-row justify-center items-center gap-12 md:gap-6">
                <div class="card flowchart-step p-4 text-center w-40 h-20 flex items-center justify-center"><strong>Plan</strong></div>
                <div class="card flowchart-step p-4 text-center w-40 h-20 flex items-center justify-center"><strong>Code</strong></div>
                <div class="card flowchart-step p-4 text-center w-40 h-20 flex items-center justify-center"><strong>Build</strong></div>
                <div class="card flowchart-step p-4 text-center w-40 h-20 flex items-center justify-center"><strong>Test</strong></div>
                <div class="card flowchart-step p-4 text-center w-40 h-20 flex items-center justify-center"><strong>Deploy</strong></div>
                <div class="card flowchart-step p-4 text-center w-40 h-20 flex items-center justify-center"><strong>Monitor</strong></div>
            </div>
        </section>

        <section class="mb-20">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-8">Interactive Learning with Gemini</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="card p-6">
                    <h3 class="text-xl font-bold text-[#00A1E4] mb-4">‚ú® Explain a Concept</h3>
                    <p class="text-sm text-gray-600 mb-4">Enter a security concept from the infographic and let Gemini explain it in a different way.</p>
                    <div class="relative mb-4">
                        <input type="text" id="conceptInput" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:border-[#00A1E4]" placeholder="e.g., Defense in Depth">
                    </div>
                    <button id="explainButton" class="w-full bg-[#00A1E4] text-white font-semibold py-2 rounded-md hover:bg-[#0087C1] transition-colors duration-200">
                        ‚ú® Explain with Gemini
                    </button>
                    <div id="explanationOutput" class="mt-4 p-4 text-gray-800 bg-gray-50 border border-gray-200 rounded-md hidden"></div>
                </div>

                <div class="card p-6">
                    <h3 class="text-xl font-bold text-[#00A1E4] mb-4">‚ú® Generate a Secure Code Snippet</h3>
                    <p class="text-sm text-gray-600 mb-4">Get a Python example of a secure coding practice, generated on-demand.</p>
                    <button id="codeButton" class="w-full bg-[#00A1E4] text-white font-semibold py-2 rounded-md hover:bg-[#0087C1] transition-colors duration-200">
                        ‚ú® Generate Code
                    </button>
                    <div id="codeOutput" class="mt-4 p-4 bg-gray-900 text-white rounded-md hidden">
                        <pre><code id="codeSnippet"></code></pre>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center pt-10 border-t border-gray-300">
            <p class="text-gray-600">This infographic is a summary of key concepts from the NESA Software Engineering Stage 6 Syllabus.</p>
            <p class="text-sm text-gray-500 mt-2">Always refer to the official NESA documentation for complete course details.</p>
        </footer>

    </div>

    <script>
        const brilliantBlues = {
            primary: '#00A1E4',
            secondary: '#0087C1',
            dark: '#005A82',
            darkest: '#00364D',
            light: '#F2F2F2'
        };

        const chartTooltipOptions = {
            plugins: {
                legend: { display: false },
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) {
                                return label.join(' ');
                            }
                            return label;
                        }
                    },
                    bodyFont: { size: 14 },
                    titleFont: { size: 16, weight: 'bold' },
                    padding: 12,
                    backgroundColor: 'rgba(0, 54, 77, 0.9)',
                    borderColor: brilliantBlues.primary,
                    borderWidth: 1
                }
            }
        };

        function createDonutChart(ctx, label, color) {
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: [label],
                    datasets: [{
                        data: [100],
                        backgroundColor: [color],
                        borderColor: [brilliantBlues.light],
                        borderWidth: 4,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: false }
                    }
                }
            });
        }

        createDonutChart(document.getElementById('confidentialityChart').getContext('2d'), 'Confidentiality', brilliantBlues.primary);
        createDonutChart(document.getElementById('integrityChart').getContext('2d'), 'Integrity', brilliantBlues.secondary);
        createDonutChart(document.getElementById('availabilityChart').getContext('2d'), 'Availability', brilliantBlues.dark);

        const wrapLabel = (str, maxWidth = 16) => {
            if (str.length <= maxWidth) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).trim().length > maxWidth) {
                    lines.push(currentLine.trim());
                    currentLine = word;
                } else {
                    currentLine = (currentLine + ' ' + word).trim();
                }
            }
            if (currentLine) lines.push(currentLine.trim());
            return lines;
        };
        
        const owaspData = {
            labels: [
                'Broken Access Control', 
                'Cryptographic Failures', 
                'Injection', 
                'Insecure Design', 
                'Security Misconfiguration', 
                'Vulnerable and Outdated Components', 
                'Identification and Authentication Failures', 
                'Software and Data Integrity Failures', 
                'Security Logging and Monitoring Failures', 
                'Server-Side Request Forgery (SSRF)'
            ],
            scores: [98, 90, 89, 85, 80, 78, 75, 72, 65, 60] 
        };

        const owaspChartCtx = document.getElementById('owaspChart').getContext('2d');
        new Chart(owaspChartCtx, {
            type: 'bar',
            data: {
                labels: owaspData.labels.map(label => wrapLabel(label)),
                datasets: [{
                    label: 'Risk Score',
                    data: owaspData.scores,
                    backgroundColor: brilliantBlues.secondary,
                    borderColor: brilliantBlues.primary,
                    borderWidth: 2,
                    borderRadius: 5,
                    barThickness: 'flex'
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        beginAtZero: true,
                        grid: {
                            color: '#e0e0e0',
                            borderColor: '#c0c0c0'
                        },
                        ticks: {
                            font: { size: 12, weight: '500' },
                             color: brilliantBlues.darkest
                        }
                    },
                    y: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: brilliantBlues.darkest
                        }
                    }
                },
                ...chartTooltipOptions
            }
        });

        const explainButton = document.getElementById('explainButton');
        const conceptInput = document.getElementById('conceptInput');
        const explanationOutput = document.getElementById('explanationOutput');
        const codeButton = document.getElementById('codeButton');
        const codeOutput = document.getElementById('codeOutput');
        const codeSnippet = document.getElementById('codeSnippet');

        async function fetchWithExponentialBackoff(fetcher, maxRetries = 5, baseDelay = 1000) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetcher();
                    if (response.status === 429) {
                        const delay = baseDelay * Math.pow(2, i) + Math.random() * 100;
                        await new Promise(res => setTimeout(res, delay));
                        continue;
                    }
                    return response;
                } catch (error) {
                    if (i === maxRetries - 1) throw error;
                    const delay = baseDelay * Math.pow(2, i) + Math.random() * 100;
                    await new Promise(res => setTimeout(res, delay));
                }
            }
        }

        explainButton.addEventListener('click', async () => {
            const userQuery = conceptInput.value.trim();
            if (!userQuery) {
                explanationOutput.textContent = "Please enter a concept to explain.";
                explanationOutput.classList.remove('hidden');
                return;
            }

            const systemPrompt = "You are a friendly, knowledgeable AI tutor for a Year 12 Software Engineering student. Your task is to provide a concise, single-paragraph explanation of a security concept. Use simple language and analogies where helpful.";
            const fullPrompt = `Explain the concept: "${userQuery}".`;

            explanationOutput.textContent = "Generating explanation...";
            explanationOutput.classList.remove('hidden');
            explainButton.disabled = true;

            const payload = {
                contents: [{ parts: [{ text: fullPrompt }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
                tools: [{ "google_search": {} }],
            };

            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            try {
                const response = await fetchWithExponentialBackoff(() => fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                }));
                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
                if (text) {
                    explanationOutput.textContent = text;
                } else {
                    explanationOutput.textContent = "Could not generate an explanation. Please try again.";
                }
            } catch (error) {
                explanationOutput.textContent = "An error occurred. Please check your network connection and try again.";
            } finally {
                explainButton.disabled = false;
            }
        });

        codeButton.addEventListener('click', async () => {
            const prompt = "Provide a clean, well-commented Python code snippet demonstrating how to perform basic input validation for a user's age, ensuring it is a number between 18 and 65.";

            codeOutput.classList.remove('hidden');
            codeSnippet.textContent = "Generating code snippet...";
            codeButton.disabled = true;

            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                generationConfig: {
                    responseMimeType: "text/plain",
                }
            };

            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            try {
                const response = await fetchWithExponentialBackoff(() => fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                }));
                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
                if (text) {
                    codeSnippet.textContent = text;
                } else {
                    codeSnippet.textContent = "Could not generate a code snippet. Please try again.";
                }
            } catch (error) {
                codeSnippet.textContent = "An error occurred. Please check your network connection and try again.";
            } finally {
                codeButton.disabled = false;
            }
        });
    </script>

</body>
</html>
