<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HSC Software Engineering Revision: Programming for the Web</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Chosen Palette: Calm Academia */
        :root {
            --bg-main: #F8F7F4; /* Off-white */
            --bg-secondary: #FFFFFF; /* White */
            --text-primary: #2c3e50; /* Dark Slate */
            --text-secondary: #34495e; /* Lighter Slate */
            --accent-primary: #4A90E2; /* Bright Blue */
            --accent-secondary: #E9E9E9; /* Light Grey */
            --border-color: #D1D5DB; /* Grey border */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-main);
            color: var(--text-primary);
        }
        .active-nav {
            background-color: var(--accent-primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .inactive-nav {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
        }
        .accordion-header {
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .accordion-header:hover {
            background-color: var(--accent-secondary);
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }
        .resource-link {
            transition: transform 0.2s;
        }
        .resource-link:hover {
            transform: translateX(4px);
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        .flashcard-container {
            perspective: 1000px;
        }
        .flashcard {
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .flashcard.is-flipped {
            transform: rotateY(180deg);
        }
        .flashcard-face {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        .flashcard-back {
            transform: rotateY(180deg);
        }
        .chart-container { 
            position: relative; 
            width: 100%; 
            max-width: 400px; 
            margin-left: auto; 
            margin-right: auto; 
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
    </style>
     <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="antialiased">
    <!-- Chosen Palette: Calm Academia -->
    <!-- Application Structure Plan: A tabbed single-page application (SPA) design was chosen for optimal user experience in a revision context. The two primary tabs, "Data Transmission" and "Designing Web Applications," directly mirror the NESA syllabus structure, providing immediate familiarity. This allows students to perform non-linear revision, focusing on specific areas of need. Within each tab, syllabus dot points are presented in accordions. This design prevents cognitive overload by hiding detailed content until requested. Each accordion contains concise theory, actionable strategies, verified resources, and a button to launch an interactive activity (quiz/flashcards) in a modal window. This interactive, layered approach encourages active recall over passive reading, which is more effective for exam preparation. -->
    <!-- Visualization & Content Choices: Report Info: Core web technologies -> Goal: Illustrate the distinct roles of HTML, CSS, and JS -> Viz: Donut Chart (Chart.js) -> Interaction: Hover to see percentages/labels -> Justification: A simple visual metaphor to reinforce the concept of layered technologies in web development. Report Info: Client-Server Model -> Goal: Explain the request-response cycle -> Viz: Diagram (HTML/Tailwind) -> Interaction: Static visual aid -> Justification: A clear, structured diagram is more effective than text alone for this fundamental concept, built without SVG. Report Info: Key Terminology -> Goal: Active recall of definitions -> Viz: Flashcards in a modal (HTML/CSS/JS) -> Interaction: Click to flip, next/prev buttons -> Justification: Proven revision method for memorizing terms. Report Info: Syllabus Concepts -> Goal: Test understanding -> Viz: Multiple-choice quiz in a modal -> Interaction: Select answer, get immediate feedback -> Justification: Simulates exam-style questions and provides instant knowledge-gap analysis. All choices adhere to the NO SVG/Mermaid rule and support the tabbed/accordion structure. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <div id="app" class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-gray-800 mb-2">HSC Software Engineering Revision</h1>
            <p class="text-lg sm:text-xl text-gray-600">Programming for the Web</p>
            <p class="max-w-3xl mx-auto mt-4 text-gray-500">This interactive toolkit is designed to help you revise key concepts from the 'Programming for the Web' topic. Use the tabs to navigate between syllabus areas, expand the dot points to find resources, and test your knowledge with the interactive activities.</p>
        </header>

        <nav class="flex justify-center space-x-2 sm:space-x-4 mb-8 sticky top-0 bg-opacity-80 bg-bg-main py-4 z-50 backdrop-blur-sm">
            <button id="nav-data-transmission" class="nav-btn active-nav w-1/2 sm:w-auto px-4 py-3 rounded-lg shadow-sm font-semibold transition-all duration-300 ease-in-out">
                1. Data Transmission
            </button>
            <button id="nav-designing-apps" class="nav-btn inactive-nav w-1/2 sm:w-auto px-4 py-3 rounded-lg shadow-sm font-semibold transition-all duration-300 ease-in-out">
                2. Designing Web Apps
            </button>
        </nav>

        <main>
            <!-- Section 1: Data Transmission Content -->
            <section id="content-data-transmission" class="space-y-6">
                <!-- Accordion items will be injected here by JS -->
            </section>

            <!-- Section 2: Designing Web Applications Content -->
            <section id="content-designing-apps" class="hidden space-y-6">
                 <!-- Accordion items will be injected here by JS -->
            </section>
        </main>
        
        <!-- Interactive Zone -->
        <footer class="mt-12 border-t pt-8 text-center">
            <h2 class="text-2xl font-bold text-gray-700 mb-4">Final Exam Preparation</h2>
            <p class="max-w-2xl mx-auto text-gray-500 mb-6">Solidify your knowledge and prepare for the online exam format with these activities.</p>
            <div class="flex justify-center items-center gap-4 flex-wrap">
                <button id="open-flashcards-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105">
                    Key Term Flashcards
                </button>
                <button id="open-quiz-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105">
                    General Knowledge Quiz
                </button>
            </div>
        </footer>
    </div>

    <!-- Modal for Quizzes and Flashcards -->
    <div id="modal" class="modal-overlay hidden">
        <div id="modal-content" class="bg-white rounded-2xl shadow-2xl w-11/12 max-w-2xl max-h-[90vh] flex flex-col">
            <div class="p-6 border-b flex justify-between items-center">
                <h3 id="modal-title" class="text-2xl font-bold text-gray-800">Interactive Activity</h3>
                <button id="modal-close-btn" class="text-gray-500 hover:text-gray-800 text-3xl font-light">&times;</button>
            </div>
            <div id="modal-body" class="p-6 sm:p-8 flex-grow overflow-y-auto">
                <!-- Content will be injected here -->
            </div>
        </div>
    </div>


<script>
document.addEventListener('DOMContentLoaded', () => {

    const appData = {
        'data-transmission': {
            title: 'Data Transmission Using the Web',
            dotPoints: [
                {
                    title: 'The internet and the web',
                    content: `
                        <p class="mb-4 text-text-secondary">A fundamental distinction. The <strong>Internet</strong> is the global network of computers (the hardware and protocols like TCP/IP), while the <strong>World Wide Web</strong> is the system of interconnected documents and resources accessed via the internet (the software and protocols like HTTP).</p>
                        <h4 class="font-semibold mb-2">Revision Strategy:</h4>
                        <p class="mb-4 text-text-secondary">Create a two-column table comparing the Internet and the Web. List key characteristics for each, such as 'Infrastructure vs. Information System', 'TCP/IP vs. HTTP', and 'Hardware vs. Software'.</p>
                        <h4 class="font-semibold mb-2">Key Resources:</h4>
                        <ul class="list-disc pl-5 space-y-2 mb-4">
                            <li><a href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/Web_mechanics/How_does_the_Internet_work" target="_blank" class="text-blue-600 hover:underline resource-link">MDN: How does the Internet work?</a></li>
                            <li><a href="https://www.w3.org/History.html" target="_blank" class="text-blue-600 hover:underline resource-link">W3C: A Little History of the World Wide Web</a></li>
                        </ul>
                    `,
                },
                {
                    title: 'HTML, CSS and JavaScript',
                    content: `
                        <p class="mb-4 text-text-secondary">These are the three core technologies of the web. <strong>HTML (HyperText Markup Language)</strong> provides the structure (content). <strong>CSS (Cascading Style Sheets)</strong> handles the presentation (styling). <strong>JavaScript (JS)</strong> controls the behavior (interactivity).</p>
                        <div class="my-6">
                           <div class="chart-container"><canvas id="webTechChart"></canvas></div>
                        </div>
                        <h4 class="font-semibold mb-2">Revision Strategy:</h4>
                        <p class="mb-4 text-text-secondary">Think of a house analogy: HTML is the frame and walls (structure), CSS is the paint and furniture (presentation), and JavaScript is the electricity and plumbing (functionality). Practice creating a simple webpage and styling it, then add a button that triggers an alert with JS.</p>
                        <h4 class="font-semibold mb-2">Key Resources:</h4>
                        <ul class="list-disc pl-5 space-y-2 mb-4">
                            <li><a href="https://developer.mozilla.org/en-US/docs/Learn" target="_blank" class="text-blue-600 hover:underline resource-link">MDN Web Docs: Learn web development</a></li>
                            <li><a href="https://www.freecodecamp.org/learn/2022/responsive-web-design/" target="_blank" class="text-blue-600 hover:underline resource-link">freeCodeCamp: Responsive Web Design Certification</a></li>
                            <li><a href="https://www.youtube.com/watch?v=G3e-cpL7ofc" target="_blank" class="text-blue-600 hover:underline resource-link">Video: HTML, CSS, JavaScript Explained (Fireship)</a></li>
                        </ul>
                    `,
                },
                {
                    title: 'Client-side and server-side programming',
                    content: `
                        <p class="mb-4 text-text-secondary"><strong>Client-side</strong> code (HTML, CSS, JS) runs in the user's web browser. It's responsible for the user interface and immediate interactions. <strong>Server-side</strong> code (e.g., Python, Node.js, PHP) runs on the web server. It handles tasks like database interaction, user authentication, and processing data before sending it to the client.</p>
                        <div class="border rounded-lg p-4 bg-gray-50 my-4">
                           <h5 class="font-bold text-center mb-2">Client-Server Request/Response Cycle</h5>
                           <div class="flex flex-col md:flex-row items-center justify-between gap-4 text-center">
                               <div class="bg-blue-100 p-3 rounded-lg w-full md:w-1/3"><strong>Client (Browser)</strong><br><small>User clicks a link</small></div>
                               <div class="font-bold text-blue-600 text-2xl flex flex-col items-center">→<small class="text-xs font-normal text-gray-500">HTTP Request</small></div>
                               <div class="bg-green-100 p-3 rounded-lg w-full md:w-1/3"><strong>Web Server</strong><br><small>Processes request, queries database</small></div>
                               <div class="font-bold text-green-600 text-2xl flex flex-col items-center">←<small class="text-xs font-normal text-gray-500">HTTP Response (HTML, CSS, JS)</small></div>
                               <div class="bg-blue-100 p-3 rounded-lg w-full md:w-1/3"><strong>Client (Browser)</strong><br><small>Renders the page</small></div>
                           </div>
                        </div>
                        <h4 class="font-semibold mb-2">Revision Strategy:</h4>
                        <p class="mb-4 text-text-secondary">Draw a diagram of the request-response cycle. Label the client, server, request (with method like GET/POST), and response (with status code like 200/404). List three tasks that can only be done on the server-side (e.g., accessing a database securely).</p>
                        <h4 class="font-semibold mb-2">Key Resources:</h4>
                        <ul class="list-disc pl-5 space-y-2 mb-4">
                            <li><a href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/First_steps/Client-Server_overview" target="_blank" class="text-blue-600 hover:underline resource-link">MDN: Client-Server overview</a></li>
                        </ul>
                    `,
                },
                 {
                    title: 'Web servers, cookies and web browser developer tools',
                    content: `
                        <p class="mb-4 text-text-secondary">A <strong>web server</strong> is software/hardware that stores website files and delivers them to browsers upon request. <strong>Cookies</strong> are small pieces of data stored on the client's computer by the web browser, used to remember stateful information (e.g., login status, shopping cart items). <strong>Developer Tools</strong> are built into browsers (like Chrome DevTools) and are essential for debugging, inspecting, and testing web applications.</p>
                        <h4 class="font-semibold mb-2">Revision Strategy:</h4>
                        <p class="mb-4 text-text-secondary">Open your browser's developer tools (F12 or Ctrl+Shift+I). Go to the 'Network' tab and reload a page to see the requests. Go to the 'Application' (or 'Storage') tab to inspect cookies for a site you're logged into. This hands-on experience is key for the exam.</p>
                        <h4 class="font-semibold mb-2">Key Resources:</h4>
                        <ul class="list-disc pl-5 space-y-2 mb-4">
                            <li><a href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/Web_mechanics/What_is_a_web_server" target="_blank" class="text-blue-600 hover:underline resource-link">MDN: What is a web server?</a></li>
                            <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies" target="_blank" class="text-blue-600 hover:underline resource-link">MDN: HTTP Cookies</a></li>
                             <li><a href="https://developer.chrome.com/docs/devtools" target="_blank" class="text-blue-600 hover:underline resource-link">Chrome DevTools Documentation</a></li>
                        </ul>
                    `,
                },
                {
                    title: 'Security issues',
                    content: `
                        <p class="mb-4 text-text-secondary">Web security involves protecting websites from attacks. Key issues include <strong>Cross-Site Scripting (XSS)</strong> where attackers inject malicious scripts, and <strong>SQL Injection</strong> where malicious SQL queries are used to manipulate a database. Best practices include input validation (never trusting user input) and using HTTPS to encrypt data transmission.</p>
                        <h4 class="font-semibold mb-2">Revision Strategy:</h4>
                        <p class="mb-4 text-text-secondary">For the OWASP Top 10 vulnerabilities, create a flashcard for each one with the name of the vulnerability on one side and a simple explanation of the threat on the other. Focus on understanding the concept rather than the technical details of exploitation.</p>
                        <h4 class="font-semibold mb-2">Key Resources:</h4>
                        <ul class="list-disc pl-5 space-y-2 mb-4">
                            <li><a href="https://owasp.org/www-project-top-ten/" target="_blank" class="text-blue-600 hover:underline resource-link">OWASP Top 10</a></li>
                             <li><a href="https://developer.mozilla.org/en-US/docs/Web/Security" target="_blank" class="text-blue-600 hover:underline resource-link">MDN: Web security</a></li>
                        </ul>
                    `,
                }
            ]
        },
        'designing-apps': {
            title: 'Designing Web Applications',
            dotPoints: [
                {
                    title: 'Progressive Web Applications (PWAs)',
                    content: `
                        <p class="mb-4 text-text-secondary">PWAs are web applications that use modern web capabilities to provide an app-like experience. Key features include being <strong>installable</strong> on a device's home screen, being able to work <strong>offline</strong> (using a Service Worker), and being <strong>discoverable</strong> by search engines. They bridge the gap between websites and native mobile apps.</p>
                        <h4 class="font-semibold mb-2">Revision Strategy:</h4>
                        <p class="mb-4 text-text-secondary">Use your phone to visit a PWA-enabled site like Twitter Lite (mobile.twitter.com) or Starbucks (app.starbucks.com). Follow the prompt to 'Add to Home Screen' and experience how it behaves like a native app. This will help you describe its features.</p>
                        <h4 class="font-semibold mb-2">Key Resources:</h4>
                        <ul class="list-disc pl-5 space-y-2 mb-4">
                            <li><a href="https://web.dev/articles/what-are-pwas" target="_blank" class="text-blue-600 hover:underline resource-link">web.dev: What are Progressive Web Apps?</a></li>
                            <li><a href="https://www.youtube.com/watch?v=sFsRylCQblw" target="_blank" class="text-blue-600 hover:underline resource-link">Video: PWA in 100 Seconds (Fireship)</a></li>
                        </ul>
                    `,
                },
                {
                    title: 'Features of PWAs',
                    content: `
                        <p class="mb-4 text-text-secondary">PWAs are built on two core technologies: a <strong>Web App Manifest</strong> (a JSON file describing the app's name, icons, etc.) and a <strong>Service Worker</strong> (a JavaScript file running in the background that handles network requests, caching, and offline capabilities).</p>
                        <h4 class="font-semibold mb-2">Revision Strategy:</h4>
                        <p class="mb-4 text-text-secondary">Create a concept map with 'PWA' at the center. Branch out to its key features: Installable, Offline Capable, App-like, Discoverable, Re-engageable (push notifications). Under 'Offline Capable', add a sub-branch for 'Service Worker' and its role in caching.</p>
                        <h4 class="font-semibold mb-2">Key Resources:</h4>
                        <ul class="list-disc pl-5 space-y-2 mb-4">
                            <li><a href="https://developer.mozilla.org/en-US/docs/Web/Manifest" target="_blank" class="text-blue-600 hover:underline resource-link">MDN: Web App Manifest</a></li>
                            <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API" target="_blank" class="text-blue-600 hover:underline resource-link">MDN: Service Worker API</a></li>
                        </ul>
                    `,
                },
                {
                    title: 'Designing and testing a PWA',
                    content: `
                        <p class="mb-4 text-text-secondary">Designing a PWA requires a 'mobile-first' approach and consideration for different network conditions. <strong>Testing</strong> is crucial and involves using browser developer tools (like Lighthouse in Chrome) to audit the PWA against a checklist for performance, accessibility, and PWA features. Testing should also occur on real mobile devices to check the user experience.</p>
                        <h4 class="font-semibold mb-2">Revision Strategy:</h4>
                        <p class="mb-4 text-text-secondary">On a PWA site (or any site), open Chrome DevTools, go to the 'Lighthouse' tab, and run a report. Analyse the 'Progressive Web App' section of the report to see what checks are performed. This is a practical skill that demonstrates understanding.</p>
                        <h4 class="font-semibold mb-2">Key Resources:</h4>
                        <ul class="list-disc pl-5 space-y-2 mb-4">
                            <li><a href="https://web.dev/articles/pwa-checklist" target="_blank" class="text-blue-600 hover:underline resource-link">web.dev: PWA Checklist</a></li>
                        </ul>
                    `,
                },
                {
                    title: 'JavaScript libraries and APIs',
                    content: `
                        <p class="mb-4 text-text-secondary"><strong>JavaScript libraries</strong> (like React, Vue, or jQuery) are collections of pre-written code that simplify development. <strong>APIs (Application Programming Interfaces)</strong> are sets of rules that allow different software applications to communicate with each other. Web developers use APIs to fetch data from third-party services (e.g., getting weather data from a weather service or maps from Google Maps).</p>
                        <h4 class="font-semibold mb-2">Revision Strategy:</h4>
                        <p class="mb-4 text-text-secondary">Explain the difference between a library and a framework (a key distinction). For APIs, think of a restaurant analogy: You (the client) give an order (request) to the waiter (API), who takes it to the kitchen (server). The kitchen prepares the food (data), and the waiter brings it back to you (response). You don't need to know how the kitchen works, just how to order from the menu (the API documentation).</p>
                        <h4 class="font-semibold mb-2">Key Resources:</h4>
                        <ul class="list-disc pl-5 space-y-2 mb-4">
                            <li><a href="https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks" target="_blank" class="text-blue-600 hover:underline resource-link">MDN: Client-side JS Frameworks</a></li>
                            <li><a href="https://www.postman.com/what-is-an-api/" target="_blank" class="text-blue-600 hover:underline resource-link">Postman: What is an API?</a></li>
                        </ul>
                    `,
                }
            ]
        },
        flashcards: [
            { term: 'Internet', definition: 'The global physical network of computers, cables, and routers that are connected together. The hardware infrastructure.' },
            { term: 'World Wide Web', definition: 'A system of interlinked hypertext documents accessed via the Internet. The information system built on top of the internet.' },
            { term: 'HTTP', definition: 'HyperText Transfer Protocol. The protocol used by the World Wide Web to define how messages are formatted and transmitted.' },
            { term: 'HTML', definition: 'HyperText Markup Language. The standard markup language for creating web pages and web applications. Defines the structure/content.' },
            { term: 'CSS', definition: 'Cascading Style Sheets. A style sheet language used for describing the presentation of a document written in a markup language like HTML.' },
            { term: 'JavaScript', definition: 'A programming language that enables interactive web pages. It handles the behavior and logic on the client-side.' },
            { term: 'Client-side', definition: 'Refers to operations that are performed by the client (the user\'s web browser) in a client-server relationship.' },
            { term: 'Server-side', definition: 'Refers to operations that are performed by the server in a client-server relationship. Often involves databases and business logic.' },
            { term: 'Cookie', definition: 'A small piece of data sent from a website and stored on the user\'s computer by the web browser while the user is browsing.' },
            { term: 'API', definition: 'Application Programming Interface. A set of rules and protocols for building and interacting with software applications, allowing them to communicate.' },
            { term: 'PWA', definition: 'Progressive Web App. A web application that uses modern web capabilities to deliver an app-like experience to users.' },
            { term: 'Service Worker', definition: 'A script that your browser runs in the background, separate from a web page, enabling features like offline access and push notifications.' },
            { term: 'Web App Manifest', definition: 'A JSON file that tells the browser about your Progressive Web App and how it should behave when installed on the user\'s device.' },
            { term: 'XSS', definition: 'Cross-Site Scripting. A security vulnerability where an attacker injects malicious scripts into content from otherwise trusted websites.' }
        ],
        quiz: [
            {
                q: 'Which technology is primarily responsible for the styling and layout of a webpage?',
                o: ['HTML', 'JavaScript', 'CSS', 'HTTP'],
                a: 'CSS'
            },
            {
                q: 'A script that runs in the background to enable offline functionality in a PWA is called a:',
                o: ['Web Worker', 'Service Worker', 'API Fetcher', 'Manifest File'],
                a: 'Service Worker'
            },
            {
                q: 'In the client-server model, where is user authentication typically handled?',
                o: ['Client-side', 'Server-side', 'In the HTTP protocol', 'In the CSS file'],
                a: 'Server-side'
            },
            {
                q: 'What does API stand for?',
                o: ['Application Protocol Instance', 'Advanced Programming Interface', 'Application Programming Interface', 'Automated Process Integration'],
                a: 'Application Programming Interface'
            },
            {
                q: 'Which of the following BEST describes the relationship between the Internet and the World Wide Web?',
                o: ['They are the same thing.', 'The Internet is a service that runs on the Web.', 'The Web is an information system that runs on the Internet infrastructure.', 'The Web is the hardware and the Internet is the software.'],
                a: 'The Web is an information system that runs on the Internet infrastructure.'
            },
            {
                q: 'Which security vulnerability involves an attacker sending malicious database queries to a server?',
                o: ['Cross-Site Scripting (XSS)', 'Denial of Service (DoS)', 'SQL Injection', 'Man-in-the-Middle'],
                a: 'SQL Injection'
            },
             {
                q: 'The JSON file that describes a PWA\'s name, icons, and start URL is called the:',
                o: ['package.json', 'Service Worker', 'Web App Manifest', 'PWA Config'],
                a: 'Web App Manifest'
            },
            {
                q: 'Which browser tool is most useful for inspecting network requests and responses?',
                o: ['Console', 'Elements/Inspector tab', 'Network tab', 'Lighthouse'],
                a: 'Network tab'
            }
        ]
    };

    const navDataBtn = document.getElementById('nav-data-transmission');
    const navDesignBtn = document.getElementById('nav-designing-apps');
    const contentData = document.getElementById('content-data-transmission');
    const contentDesign = document.getElementById('content-designing-apps');

    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modal-title');
    const modalBody = document.getElementById('modal-body');
    const modalCloseBtn = document.getElementById('modal-close-btn');

    let webTechChartInstance = null;
    
    function createAccordionItem(dotPoint, index) {
        const div = document.createElement('div');
        div.className = 'bg-white rounded-lg shadow-sm border border-border-color';
        div.innerHTML = `
            <div class="accordion-header p-4 flex justify-between items-center">
                <h3 class="text-lg font-semibold text-text-primary">${dotPoint.title}</h3>
                <svg class="w-6 h-6 transform transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
            </div>
            <div class="accordion-content px-4 pb-4">
                ${dotPoint.content}
            </div>
        `;
        return div;
    }
    
    function populateAccordions() {
        appData['data-transmission'].dotPoints.forEach((dp, i) => {
            contentData.appendChild(createAccordionItem(dp, i));
        });
        appData['designing-apps'].dotPoints.forEach((dp, i) => {
            contentDesign.appendChild(createAccordionItem(dp, i));
        });

        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', () => {
                const content = header.nextElementSibling;
                const icon = header.querySelector('svg');
                
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                    icon.style.transform = 'rotate(0deg)';
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                    icon.style.transform = 'rotate(180deg)';
                    if (header.textContent.includes('HTML, CSS and JavaScript')) {
                        setTimeout(renderWebTechChart, 100);
                    }
                } 
            });
        });
    }

    function switchTab(activeBtn, inactiveBtn, activeContent, inactiveContent) {
        activeBtn.classList.remove('inactive-nav');
        activeBtn.classList.add('active-nav');
        inactiveBtn.classList.add('inactive-nav');
        inactiveBtn.classList.remove('active-nav');

        activeContent.classList.remove('hidden');
        inactiveContent.classList.add('hidden');
    }

    navDataBtn.addEventListener('click', () => switchTab(navDataBtn, navDesignBtn, contentData, contentDesign));
    navDesignBtn.addEventListener('click', () => switchTab(navDesignBtn, navDataBtn, contentDesign, contentData));

    function openModal() { modal.classList.remove('hidden'); }
    function closeModal() { modal.classList.add('hidden'); modalBody.innerHTML = ''; }
    
    modalCloseBtn.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => {
        if (e.target === modal) {
            closeModal();
        }
    });

    function showFlashcards() {
        let currentIndex = 0;
        const flashcards = appData.flashcards.sort(() => 0.5 - Math.random());
        
        modalTitle.innerText = 'Key Term Flashcards';
        
        function renderCard() {
            const card = flashcards[currentIndex];
            modalBody.innerHTML = `
                <div class="flashcard-container h-64 w-full">
                    <div class="flashcard relative h-full w-full">
                        <div class="flashcard-face absolute h-full w-full flex items-center justify-center bg-blue-100 border-2 border-blue-300 rounded-lg p-4 text-center">
                            <h2 class="text-2xl font-bold text-blue-800">${card.term}</h2>
                        </div>
                        <div class="flashcard-back absolute h-full w-full flex items-center justify-center bg-green-100 border-2 border-green-300 rounded-lg p-4 text-center">
                            <p class="text-lg text-green-800">${card.definition}</p>
                        </div>
                    </div>
                </div>
                <div class="flex justify-between items-center mt-6">
                    <button id="prev-card" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg">&larr; Previous</button>
                    <span class="text-gray-600 font-semibold">${currentIndex + 1} / ${flashcards.length}</span>
                    <button id="next-card" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg">Next &rarr;</button>
                </div>
            `;
            const flashcardEl = document.querySelector('.flashcard');
            flashcardEl.addEventListener('click', () => {
                flashcardEl.classList.toggle('is-flipped');
            });
            document.getElementById('prev-card').addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + flashcards.length) % flashcards.length;
                renderCard();
            });
            document.getElementById('next-card').addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % flashcards.length;
                renderCard();
            });
        }
        renderCard();
        openModal();
    }
    
    function showQuiz() {
        let currentQuestionIndex = 0;
        let score = 0;
        const questions = appData.quiz.sort(() => 0.5 - Math.random());

        modalTitle.innerText = 'General Knowledge Quiz';
        
        function renderQuestion() {
            if (currentQuestionIndex >= questions.length) {
                renderResults();
                return;
            }
            const question = questions[currentQuestionIndex];
            const optionsHtml = question.o.map(opt => 
                `<button class="quiz-option block w-full text-left p-4 bg-gray-100 hover:bg-blue-100 rounded-lg border border-gray-200 my-2 transition-colors">${opt}</button>`
            ).join('');

            modalBody.innerHTML = `
                <div class="mb-4">
                    <p class="text-gray-600 font-semibold">Question ${currentQuestionIndex + 1} of ${questions.length}</p>
                    <h3 class="text-xl font-semibold mt-1">${question.q}</h3>
                </div>
                <div>${optionsHtml}</div>
                <div id="feedback" class="mt-4 text-lg font-semibold"></div>
            `;

            document.querySelectorAll('.quiz-option').forEach(btn => {
                btn.addEventListener('click', handleAnswer);
            });
        }

        function handleAnswer(e) {
            const selectedOption = e.target.innerText;
            const question = questions[currentQuestionIndex];
            const feedbackEl = document.getElementById('feedback');
            
            document.querySelectorAll('.quiz-option').forEach(btn => btn.disabled = true);

            if (selectedOption === question.a) {
                score++;
                e.target.classList.add('bg-green-200', 'border-green-400');
                feedbackEl.innerHTML = '<p class="text-green-600">Correct!</p>';
            } else {
                e.target.classList.add('bg-red-200', 'border-red-400');
                feedbackEl.innerHTML = `<p class="text-red-600">Incorrect. The correct answer is: ${question.a}</p>`;
                document.querySelectorAll('.quiz-option').forEach(btn => {
                    if(btn.innerText === question.a) {
                         btn.classList.add('bg-green-200', 'border-green-400');
                    }
                });
            }

            setTimeout(() => {
                currentQuestionIndex++;
                renderQuestion();
            }, 2000);
        }
        
        function renderResults() {
             modalBody.innerHTML = `
                <div class="text-center">
                    <h2 class="text-2xl font-bold mb-4">Quiz Complete!</h2>
                    <p class="text-xl mb-6">You scored ${score} out of ${questions.length}.</p>
                    <button id="restart-quiz" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg">Try Again</button>
                </div>
             `;
             document.getElementById('restart-quiz').addEventListener('click', showQuiz);
        }

        renderQuestion();
        openModal();
    }

    function renderWebTechChart() {
        const ctx = document.getElementById('webTechChart');
        if (!ctx) return;
        if (webTechChartInstance) {
            webTechChartInstance.destroy();
        }
        webTechChartInstance = new Chart(ctx.getContext('2d'), {
            type: 'doughnut',
            data: {
                labels: ['HTML (Structure)', 'CSS (Presentation)', 'JavaScript (Behavior)'],
                datasets: [{
                    label: 'Roles of Web Technologies',
                    data: [40, 30, 30],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.7)',
                        'rgba(54, 162, 235, 0.7)',
                        'rgba(255, 206, 86, 0.7)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'The Three Layers of a Web Application'
                    }
                }
            }
        });
    }

    document.getElementById('open-flashcards-btn').addEventListener('click', showFlashcards);
    document.getElementById('open-quiz-btn').addEventListener('click', showQuiz);
    
    populateAccordions();
});
</script>
</body>
</html>
